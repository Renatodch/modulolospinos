generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL")
  directUrl = env("POSTGRES_URL_NON_POOLING")
}

model usuario {
  id            Int             @id @default(autoincrement())
  password      String          @db.VarChar(50)
  type          String          @db.VarChar(50)
  email         String          @db.VarChar(255)
  name          String          @db.VarChar(50)
  proyecto      proyecto[]
  usuario_curso usuario_curso[]
}

model proyecto {
  id           Int      @id @default(autoincrement())
  title        String   @db.VarChar(64)
  description  String?  @db.VarChar(255)
  image1       String?  @db.VarChar(255)
  image2       String?  @db.VarChar(255)
  date_update  DateTime @db.Timestamp(6)
  approved     Boolean
  projectscore Int?
  id_user      Int?
  usuario      usuario? @relation(fields: [id_user], references: [id], onDelete: NoAction, onUpdate: NoAction)
}

model usuario_curso {
  id              Int       @id @default(autoincrement())
  date_start      DateTime  @db.Timestamp(6)
  date_last_entry DateTime  @db.Timestamp(6)
  date_end        DateTime? @db.Timestamp(6)
  progress        Int
  id_user         Int?
  usuario         usuario?  @relation(fields: [id_user], references: [id], onDelete: NoAction, onUpdate: NoAction)
}
